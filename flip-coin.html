<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

<button id="b1">heads</button>
<button id="b2">tails</button>
<button onclick="scoreall = {wins:0,losses:0}; renderit();" >reset score</button>
<div id="daDiv"></div>  
<p class="dap"></p>
  <script>
    let result;
    let scoreall = JSON.parse(localStorage.getItem("myObj")) || {
      wins:0,
      losses:0
    };
    const p11 = document.querySelector('.dap')
    const dadiv1 = document.getElementById('daDiv');
    //renderit();

    /*function randomizer() {
      Math.random()
    }*/

    const but1 = document.getElementById('b1');
    const but2 = document.getElementById('b2');

    //let guest = '';

    but1.addEventListener('click',() => runner('heads'));
    but2.addEventListener('click',() => runner('tails'));

    /*let*/ /* guest */ //= //prompt('heads or tails?');

    
    
    function runner(guest) {
     /*const*/   let randomizer = Math.random();
      randomizer >= 0.5 ? result ='heads': result = 'tails';
      randomizer; //= Math.random();
      guest === result? win() /*console.log('ez win gg wp')*/ : lose() //console.log('defeat'); 
      renderit(guest )
    }
    //let {wins,losses} = scoreall;
    function renderit(guest) {
      dadiv1.innerHTML = `wins: ${scoreall.wins}, losses ${scoreall.losses}`;
      localStorage.setItem("myObj", JSON.stringify(scoreall));
      p11.innerHTML = `you have chosen ${guest || 'nothing yet'}`;

    }

    // Save it to localStorage
    // bura yada aşağı araştır localStorage.setItem("myObj", JSON.stringify(scoreall));

    // Retrieve it from localStorage
    // let scoreall = JSON.parse(localStorage.getItem("myObj"));
    

    function win() {
      console.log('ez win gg wp');
      scoreall.wins++;
      renderit();
    }

    function lose() {
      console.log('defeat'); 
      scoreall.losses++;
      renderit();
    }

    /*
    if (randomizer >= 0.5) {
      result = 'heads'
      console.log(result);
    } else {
      result = 'tails'
      console.log(result);
    }

    if (guest === result) {
      console.log('ez win gg wp');
    } else {
      console.log('defeat');
    } 
    */
   
    
  </script>  
</body>
</html>